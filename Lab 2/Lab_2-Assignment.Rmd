---
title: "BIOL3872 Lab2-Assignment"
output: html_document
date: "`r Sys.Date()`"
author: "Ella Cavicchi"
student_id: "B00898234"
---

**BEFORE STARTING:**\
1. Include your name and banner id (as shown in Brightspace) in the `author` and `student_id` section above as text (e.g., "Liam MacNeil", "B00123456").\
2. Install and load the packages required to run your code chunks/

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Assignments will largely be evaluated based on your code chunk answers. If they are incomplete or formatted incorrectly (e.g., code chunks don't run), no marks will be awarded. I recommend experimenting with solving these answers in a separate script/Markdown document and reporting your answers with minimal script.

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 1 (2 points)

You measured the body length (in cm) of 6 salamanders: 12.5, 14.2, 11.8, 13.6, 15.1, 12.9

```         
a) Create a vector called `salamander_lengths` containing these measurements.
b) Calculate the mean length and store in variable called `mean_length`.
```

```{r}
# a)
salamander_lengths <- c(12.5, 14.2, 11.8, 13.6, 15.1, 12.9)

# b)
mean_length <- mean(salamander_lengths)
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 2 (2 points)

Using the `salamander_lengths` vector from Task 1:

```         
a)  How many salamanders were measured? Use a function and store the result in `num_salamanders`
b)  What is the length of the longest salamander? Store in `longest_salamander`
c)  What is the length of the shortest salamander? Store in `shortest_salamander`
d)  What is the length of the LAST salamander in your vector? Use indexing and store in `last_salamander`
```

*Hint: use `length()` inside the square brackets to access the last element*

```{r}
# a)
num_salamanders <- length(salamander_lengths)

# b)
longest_salamander <- max(salamander_lengths, na.rm = TRUE)

# c)
shortest_salamander <- base::min(salamander_lengths)

# d)
last_salamander <- salamander_lengths[6]
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 3 (2 points)

The following code has **THREE errors**. Fix them so the code runs correctly.

```{r eval=FALSE}
# Original code with errors (do not run):
# a)
# sample size <- 50
# b)
# Species_name <- "Ambystoma maculatum
# c)
# is_endangered < FALSE
```

```{r}
# a)
sample_size <- 50
# b)
Species_name <- "Ambystoma maculatum"
# c)
is_endangered <- FALSE
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 4 (3 points)

Recorded daily temperatures (deg C) for one week:

| Day       | Temperature |
|-----------|-------------|
| Monday    | 18.2        |
| Tuesday   | 19.5        |
| Wednesday | NA          |
| Thursday  | 22.1        |
| Friday    | 20.8        |
| Saturday  | 17.9        |
| Sunday    | 21.3        |

```         
a)  Create a vector called `daily_temps` with these values (use NA for Wednesday)
b)  Calculate the mean temperature and store in `mean_temp` (hint: you need to handle the NA)
c)  How many days have missing data? Store the count in `num_missing`
```

```{r}
# a)
daily_temps <- c(18.2, 19.5, NA, 22.1, 20.8, 17.9, 21.3)

# b)
mean_temp <- mean(daily_temps, na.rm = TRUE)

# c)
sum(is.na(daily_temps))
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 5 (3 points)

Using the `daily_temps` vector from Task 4:

```         
a)  Which days had temperatures above 20 deg C? (return the actual temperature values and store in a variable called `temps_above_20`)
b)  Replace the NA value with the mean of the other days
c)  Verify that there are no more NA values in the vector
```

```{r}
# a)
daily_temps > 20
temps_above_20 <- daily_temps[c(4,5,7)]

# b)
mean_temp <- mean(daily_temps, na.rm = TRUE)
daily_temps[is.na(daily_temps)] <- mean_temp
daily_temps

# c)
daily_temps
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 6 (3 points)

Create a data frame called `field_samples` with the following data:

| sample_id | pH  | depth_m | location |
|-----------|-----|---------|----------|
| "S001"    | 6.8 | 2.5     | "Lake A" |
| "S002"    | 7.2 | 5.0     | "Lake A" |
| "S003"    | 6.5 | 1.5     | "Lake B" |
| "S004"    | 7.8 | 8.0     | "Lake B" |
| "S005"    | 7.0 | 3.5     | "Lake A" |

After creating the data frame, display its structure using `str()`.

```{r}
field_samples <- data.frame(
  sample_id = c("S001", "S002", "S003", "S004", "S005"),
  pH = c(6.8, 7.2, 6.5,7.8,7.0),
  depth_m = c(2.5, 5, 1.5, 8.0, 3.5),
  location = c("Lake A", "Lake A", "Lake B", "Lake B", "Lake A")
)

str(field_samples)
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 7 (3 points)

Using the `field_samples` data frame from Task 6:

```         
a)  Extract only the pH column as a vector and store in `ph_values`
b)  What is the average depth across all samples? Store in `avg_depth`
c)  Filter to show only samples from "Lake B" and store in `lake_b_samples`
```

```{r}
# a)
ph_values <- field_samples$pH

# b)
avg_depth <- mean(field_samples$depth_m)

# c)
lake_b_samples <- field_samples[field_samples$location=="Lake B", ]
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 8 (3 points)

Using the `field_samples` data frame from Task 6:

```         
a)  Add a new column called `depth_ft` that converts depth from meters to feet (1 meter = 3.28 feet)
b)  Add a new column called `is_deep` that is TRUE if depth_m > 4, FALSE otherwise
c)  Display the updated data frame
```

```{r}
# a)
field_samples$depth_ft <- field_samples$depth_m*3.28
field_samples

# b)
field_samples$is_deep <- ifelse(field_samples$depth_m > 4, "TRUE", "FALSE")

# c)
field_samples
```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 9 (5 points)

**Putting it all together:**

You are analyzing data from a marine survey.

**a)** Create a data frame called `marine_survey` with:

| station | depth_m | temperature_c | salinity_ppt | species_count |
|---------|---------|---------------|--------------|---------------|
| ST1     | 5       | 22.5          | 35.2         | 45            |
| ST2     | 15      | 18.3          | 35.8         | 32            |
| ST3     | 25      | 12.8          | 36.1         | 18            |
| ST4     | 10      | 20.1          | 35.5         | 38            |
| ST5     | 30      | 10.5          | 36.5         | 12            |
| ST6     | 20      | 15.2          | 35.9         | 25            |

**b)** Add a column `depth_category` that is "shallow" if depth_m \<= 15, otherwise "deep"

**c)** Calculate summary statistics for species_count and store each in a variable: - `species_mean`, `species_median`, `species_min`, `species_max`, `species_sd`

**d)** Filter to show only deep stations (depth_m \> 15) and store in `deep_stations`

**e)** Sort the data frame by species_count in descending order (most species first) and store in `sorted_survey`

**f)** Is there a relationship between depth and species count? Calculate the correlation using `cor(x, y)` and store in `depth_species_cor`

**g)** Interpret the result in a comment (positive/negative? strong/weak?)

```{r}
# a)
marine_survey <- data_frame(
  station = c("ST1", "ST2", "ST3", "ST4", "ST5", "ST6"),
  depth_m = c(5, 15, 25, 10, 30, 20),
  temperature_c = c(22.5, 18.3, 12.8, 20.1, 10.5, 15.2),
  salinity_pt = c(35.2, 35.8, 36.1, 35.5, 36.5, 35.9),
  species_count = c(45, 32, 18, 38, 12, 25)
)

# b)
marine_survey$depth_category <- ifelse(marine_survey$depth_m <= 15, "shallow", "deep")

# c)
species_mean <- mean(marine_survey$species_count)
species_median <- median(marine_survey$species_count)
species_min <- min(marine_survey$species_count)
species_max <- max(marine_survey$species_count)
species_sd <- sd(marine_survey$species_count)

# d)
deep_stations <- marine_survey[marine_survey$depth_m >15,]

# e)
sorted_survey <- marine_survey[order(marine_survey$species_count), increasing = TRUE]

# f)
depth_species_cor <- cor(marine_survey$depth_m, marine_survey$species_count)
#there is a strong negative correlation between depth and species count

```
:::

------------------------------------------------------------------------

::: {style="background-color: #44AA99; padding: padding: 5px; border-radius: 2px;"}
## Task 9f Interpretation

In the space below, provide your interpretation of the correlation coefficient from Task 9f.

There is a strong negative corrleation between depth and species count in the Marine Survey data. Meaning that accoridng to the data when depth increases species count decreases.  
:::
